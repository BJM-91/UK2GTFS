<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UK2GTFS: Getting Started â€¢ UK2GTFS</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="UK2GTFS: Getting Started">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">UK2GTFS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/UK2GTFS.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ATOC.html">Vignette Title</a>
    </li>
    <li>
      <a href="../articles/transxchange.html">UNKNOWN TITLE</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>UK2GTFS: Getting Started</h1>
                        <h4 class="author">Malcolm Morgan</h4>
            
            <h4 class="date">2019-09-23</h4>
      
      
      <div class="hidden name"><code>UK2GTFS.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>The UK has two main sources of public transport timetable data <strong>traveline</strong> publishes data on buses and light rail and <strong>ATOC</strong> pubishes data on heavy rail. Each uses a data fromat that is unique to that organisation and both formats are old and difficult to use. Many countires have adopeted the <a href="https://developers.google.com/transit/gtfs/">GTFS</a> format which was developed by Google as a simple standard for publishing timetable data. Due to the wide-spread adoption of GTFS many useful tools have been develope that accept GTFS files as inputs. This package is intended to make the conversion of UK data to the GTFS format simple and easy.</p>
</div>
<div id="capabilities---why-we-need-another-package" class="section level2">
<h2 class="hasAnchor">
<a href="#capabilities---why-we-need-another-package" class="anchor"></a>Capabilities - why we need another package</h2>
<p>There are a number of pre-existing options for converting data to GTFS. This package aims to go beyond basic conversion by providing a range or additonal fucntionality:</p>
<ol style="list-style-type: decimal">
<li>Data conversion
<ul>
<li>Conversion of TransXchange to GTFS</li>
<li>Conversion of ATOC CIF files to GTFS</li>
</ul>
</li>
<li>Data cleaning, the raw data often contains clear error, the package does not blindly convert but also corrects some known errors
<ul>
<li>Improved locations of tiplocs</li>
<li>Correction of mispelt organisations</li>
<li>Removal of on-demand bus services (GTFS does not support services that are on-demand)</li>
</ul>
</li>
<li>Data polishing
<ul>
<li>Support of journeys past midnight</li>
<li>Routing of train journeys along tracks rather than straight lines between stops</li>
</ul>
</li>
</ol>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the UK2GTFS package using the devtools package.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"devtools"</span>) <span class="co"># If you do not already have the devtools package</span></a>
<a class="sourceLine" id="cb1-2" title="2">devtools<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/devtools/man/reexports.html">install_github</a></span>(<span class="st">"mem48/UK2GTFS"</span>)</a></code></pre></div>
</div>
<div id="getting-data" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-data" class="anchor"></a>Getting Data</h2>
<div id="atoc-data---for-trains" class="section level3">
<h3 class="hasAnchor">
<a href="#atoc-data---for-trains" class="anchor"></a>ATOC Data - for trains</h3>
<p>Data for trains can be downloaded from <a href="http://data.atoc.org/how-to" class="uri">http://data.atoc.org/how-to</a> you will need to register for a free account and login.</p>
</div>
<div id="transxchange-data---for-bus-tram-and-metro" class="section level3">
<h3 class="hasAnchor">
<a href="#transxchange-data---for-bus-tram-and-metro" class="anchor"></a>TransXchange Data - for bus, tram, and metro</h3>
<p>Data for other modes can be downloaded from <a href="https://www.travelinedata.org.uk/traveline-open-data/data-reporting/" class="uri">https://www.travelinedata.org.uk/traveline-open-data/data-reporting/</a> you will need to apply for access to the FTP sever to download the data.</p>
</div>
</div>
<div id="using-the-package" class="section level2">
<h2 class="hasAnchor">
<a href="#using-the-package" class="anchor"></a>Using the package</h2>
<div id="converting-atoc-data-to-gtfs" class="section level3">
<h3 class="hasAnchor">
<a href="#converting-atoc-data-to-gtfs" class="anchor"></a>Converting ATOC Data to GTFS</h3>
<p>Load the package, and use the <code>atoc2gtfs</code> function. The fucntnon requires the following arguments.</p>
<ul>
<li>
<code>path_in</code> is the file path to the ATOC timetable file, this comes a ziped folder with a name like <code>ttis123.zip</code>
</li>
<li>
<code>path_out</code> is the path to a folder where the results will be saved</li>
<li>
<code>name</code> is the file name of the result by default <code>gtfs.zip</code>
</li>
<li>
<code>silent</code> if FALSE extra information is displayed duing processing</li>
<li>
<code>ncores</code> If &gt; 1 then mulicore processing is used to speed up the processing</li>
<li>
<code>locations</code> station locations can be <code>tiplocs</code> object provided with the package (default) or taken from the ATOC <code>"file"</code> (known to have errors) or file path to CSV file.</li>
<li>
<code>agency</code> agency details which are not included in the network rail files, default used example data provided by the package</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(UK2GTFS)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="co">#path_in = "C:/Users/Malcolm/OneDrive - University of Leeds/UK Trains Timetables/ATOC Data/2019-08-31/ttis381.zip"</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co">#path_out = "C:/Users/Malcolm/OneDrive - University of Leeds/UK Trains Timetables/ATOC Data/2019-08-31/"</span></a>
<a class="sourceLine" id="cb2-4" title="4">path_in =<span class="st"> "E:/OneDrive - University of Leeds/UK Trains Timetables/ATOC Data/2019-08-31/ttis381.zip"</span></a>
<a class="sourceLine" id="cb2-5" title="5">path_out =<span class="st"> "E:/OneDrive - University of Leeds/UK Trains Timetables/ATOC Data/2019-08-31/"</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="kw"><a href="../reference/atoc2gtfs.html">atoc2gtfs</a></span>(<span class="dt">path_in =</span> path_in, </a>
<a class="sourceLine" id="cb2-7" title="7">          <span class="dt">path_out =</span> path_out,</a>
<a class="sourceLine" id="cb2-8" title="8">          <span class="dt">name =</span> <span class="st">"gtfs4"</span>,</a>
<a class="sourceLine" id="cb2-9" title="9">          <span class="dt">silent =</span> <span class="ot">FALSE</span>, </a>
<a class="sourceLine" id="cb2-10" title="10">          <span class="dt">ncores =</span> <span class="dv">6</span>)</a></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#capabilities---why-we-need-another-package">Capabilities - why we need another package</a></li>
      <li><a href="#installation">Installation</a></li>
      <li><a href="#getting-data">Getting Data</a></li>
      <li><a href="#using-the-package">Using the package</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Malcolm Morgan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
